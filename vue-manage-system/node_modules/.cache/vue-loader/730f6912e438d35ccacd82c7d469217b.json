{"remainingRequest":"/Users/chrisju/vue/vue-manage-system/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/chrisju/vue/vue-manage-system/src/components/page/Dashboard.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/chrisju/vue/vue-manage-system/src/components/page/Dashboard.vue","mtime":1576211642669},{"path":"/Users/chrisju/vue/vue-manage-system/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/chrisju/vue/vue-manage-system/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/chrisju/vue/vue-manage-system/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/chrisju/vue/vue-manage-system/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\r\nimport bus from '../common/bus';\r\nimport { GetCompany } from '../../api/index';\r\nimport { GetAccount } from '../../api/index';\r\nexport default {\r\n    name: 'dashboard',\r\n    \r\n    data() {\r\n        return {\r\n            username : localStorage.getItem('name'),\r\n            companyList : [],\r\n            accountList : [],\r\n            funds: 0,\r\n            AAccount: 0,\r\n            BAccount: 0\r\n        }\r\n    },\r\n    \r\n    created() {\r\n        GetAccount(localStorage.getItem('id')).then((response) => {\r\n            if (response.status == 200) {\r\n                let temp = [{id:\"id\", money:\"money\", ACompany:\"甲方\", BCompany:\"乙方\"}]\r\n                for (let i = 0; i < response.data.length; i++) {\r\n\r\n                    temp[i + 1] = {\r\n                        id : response.data[i]['id'],\r\n                        money: response.data[i]['money'],\r\n                        ACompany: response.data[i]['ACompany']['name'],\r\n                        BCompany: response.data[i]['BCompany']['name']\r\n                    }\r\n                    if (response.data[i]['ACompany']['id'] == 1000) {\r\n                        temp[i + 1]['ACompany'] = 'bank'\r\n                    }\r\n                    if (response.data[i]['BCompany']['id'] == 1000) {\r\n                        temp[i + 1]['BCompany'] = 'bank'\r\n                    }\r\n                    if (temp[i+1]['ACompany'] == localStorage.getItem('name')) {\r\n                        this.AAccount++\r\n                    } else {\r\n                        this.BAccount++\r\n                    }\r\n                }\r\n                this.accountList = temp\r\n            }\r\n        }, (err) => {\r\n            console.log(err)\r\n        })\r\n        GetCompany().then((response) => {\r\n        if (response.status == 200) {\r\n            this.companyList = response.data\r\n            for (let i = 0; i < response.data.length; i++) {\r\n                if (response.data[i]['id'] == localStorage.getItem('id')) {\r\n                    this.funds = response.data[i].money\r\n                }\r\n            }\r\n        }\r\n        }, (err) => {\r\n            console.log(err)\r\n        })\r\n        \r\n        \r\n    },\r\n    \r\n    computed: {\r\n        role() {\r\n            return this.name === 'admin' ? '超级管理员' : '普通用户';\r\n        },\r\n    },\r\n    methods: {\r\n    }\r\n};\r\n",{"version":3,"sources":["Dashboard.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0GA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Dashboard.vue","sourceRoot":"src/components/page","sourcesContent":["<template>\r\n    <div>\r\n        <el-row :gutter=\"20\">\r\n            <el-col :span=\"8\">\r\n                <el-card shadow=\"hover\" class=\"mgb20\" style=\"height:252px;\">\r\n                    <div class=\"user-info\">\r\n                        <img src=\"../../assets/img/img.jpg\" class=\"user-avator\" alt />\r\n                        <div class=\"user-info-cont\">\r\n                            <div class=\"user-info-name\">{{username}}</div>\r\n                            <div>{{role}}</div>\r\n                        </div>\r\n                    </div>\r\n                </el-card>\r\n                <el-card shadow=\"hover\" style=\"height:252px;\">\r\n                    <div slot=\"header\" class=\"clearfix\">\r\n                        <span>公司列表</span>\r\n                    </div>\r\n                    <el-table :show-header=\"false\" :data=\"companyList\" style=\"width:100%;\">\r\n                        <el-table-column width=\"100\">\r\n                            <template slot-scope=\"scope\">\r\n                                <div class=\"todo-item\">{{scope.row.id}}</div>\r\n                            </template>\r\n                        </el-table-column>\r\n                        <el-table-column>\r\n                            <template slot-scope=\"scope\">\r\n                                <div class=\"todo-item\">{{scope.row.name}}</div>\r\n                            </template>\r\n                        </el-table-column>\r\n                        <el-table-column>\r\n                            <template slot-scope=\"scope\">\r\n                                <div class=\"todo-item\">{{scope.row.money}}万</div>\r\n                            </template>\r\n                        </el-table-column>\r\n                    </el-table>\r\n                </el-card>\r\n            </el-col>\r\n            <el-col :span=\"16\">\r\n                <el-row :gutter=\"20\" class=\"mgb20\">\r\n                    <el-col :span=\"8\">\r\n                        <el-card shadow=\"hover\" :body-style=\"{padding: '0px'}\">\r\n                            <div class=\"grid-content grid-con-1\">\r\n                                <i class=\"el-icon-lx-redpacket grid-con-icon\"></i>\r\n                                <div class=\"grid-cont-right\">\r\n                                    <div class=\"grid-num\">{{funds}}万</div>\r\n                                    <div>公司资金</div>\r\n                                </div>\r\n                            </div>\r\n                        </el-card>\r\n                    </el-col>\r\n                    <el-col :span=\"8\">\r\n                        <el-card shadow=\"hover\" :body-style=\"{padding: '0px'}\">\r\n                            <div class=\"grid-content grid-con-2\">\r\n                                <i class=\"el-icon-lx-servicefill grid-con-icon\"></i>\r\n                                <div class=\"grid-cont-right\">\r\n                                    <div class=\"grid-num\">{{AAccount}}</div>\r\n                                    <div>甲方账单数量</div>\r\n                                </div>\r\n                            </div>\r\n                        </el-card>\r\n                    </el-col>\r\n                    <el-col :span=\"8\">\r\n                        <el-card shadow=\"hover\" :body-style=\"{padding: '0px'}\">\r\n                            <div class=\"grid-content grid-con-3\">\r\n                                <i class=\"el-icon-lx-service grid-con-icon\"></i>\r\n                                <div class=\"grid-cont-right\">\r\n                                    <div class=\"grid-num\">{{BAccount}}</div>\r\n                                    <div>乙方账单数量</div>\r\n                                </div>\r\n                            </div>\r\n                        </el-card>\r\n                    </el-col>\r\n                </el-row>\r\n                <el-card shadow=\"hover\" style=\"height:403px;\">\r\n                    <div slot=\"header\" class=\"clearfix\">\r\n                        <span>账单列表</span>\r\n                        <el-button style=\"float: right; padding: 3px 0\" type=\"text\">添加</el-button>\r\n                    </div>\r\n                    <el-table :show-header=\"false\" :data=\"accountList\" style=\"width:100%;\">\r\n                        <el-table-column>\r\n                            <template slot-scope=\"scope\">\r\n                                <div class=\"todo-item\">{{scope.row.id}}</div>\r\n                            </template>\r\n                        </el-table-column>\r\n                        <el-table-column>\r\n                            <template slot-scope=\"scope\">\r\n                                <div class=\"todo-item\">{{scope.row.money}}</div>\r\n                            </template>\r\n                        </el-table-column>\r\n                         <el-table-column>\r\n                            <template slot-scope=\"scope\">\r\n                                <div class=\"todo-item\">{{scope.row.ACompany}}</div>\r\n                            </template>\r\n                        </el-table-column>\r\n                        <el-table-column>\r\n                            <template slot-scope=\"scope\">\r\n                                <div class=\"todo-item\">{{scope.row.BCompany}}</div>\r\n                            </template>\r\n                        </el-table-column>\r\n                    </el-table>\r\n                </el-card>\r\n            </el-col>\r\n        </el-row>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport bus from '../common/bus';\r\nimport { GetCompany } from '../../api/index';\r\nimport { GetAccount } from '../../api/index';\r\nexport default {\r\n    name: 'dashboard',\r\n    \r\n    data() {\r\n        return {\r\n            username : localStorage.getItem('name'),\r\n            companyList : [],\r\n            accountList : [],\r\n            funds: 0,\r\n            AAccount: 0,\r\n            BAccount: 0\r\n        }\r\n    },\r\n    \r\n    created() {\r\n        GetAccount(localStorage.getItem('id')).then((response) => {\r\n            if (response.status == 200) {\r\n                let temp = [{id:\"id\", money:\"money\", ACompany:\"甲方\", BCompany:\"乙方\"}]\r\n                for (let i = 0; i < response.data.length; i++) {\r\n\r\n                    temp[i + 1] = {\r\n                        id : response.data[i]['id'],\r\n                        money: response.data[i]['money'],\r\n                        ACompany: response.data[i]['ACompany']['name'],\r\n                        BCompany: response.data[i]['BCompany']['name']\r\n                    }\r\n                    if (response.data[i]['ACompany']['id'] == 1000) {\r\n                        temp[i + 1]['ACompany'] = 'bank'\r\n                    }\r\n                    if (response.data[i]['BCompany']['id'] == 1000) {\r\n                        temp[i + 1]['BCompany'] = 'bank'\r\n                    }\r\n                    if (temp[i+1]['ACompany'] == localStorage.getItem('name')) {\r\n                        this.AAccount++\r\n                    } else {\r\n                        this.BAccount++\r\n                    }\r\n                }\r\n                this.accountList = temp\r\n            }\r\n        }, (err) => {\r\n            console.log(err)\r\n        })\r\n        GetCompany().then((response) => {\r\n        if (response.status == 200) {\r\n            this.companyList = response.data\r\n            for (let i = 0; i < response.data.length; i++) {\r\n                if (response.data[i]['id'] == localStorage.getItem('id')) {\r\n                    this.funds = response.data[i].money\r\n                }\r\n            }\r\n        }\r\n        }, (err) => {\r\n            console.log(err)\r\n        })\r\n        \r\n        \r\n    },\r\n    \r\n    computed: {\r\n        role() {\r\n            return this.name === 'admin' ? '超级管理员' : '普通用户';\r\n        },\r\n    },\r\n    methods: {\r\n    }\r\n};\r\n</script>\r\n\r\n\r\n<style scoped>\r\n.el-row {\r\n    margin-bottom: 20px;\r\n}\r\n\r\n.grid-content {\r\n    display: flex;\r\n    align-items: center;\r\n    height: 100px;\r\n}\r\n\r\n.grid-cont-right {\r\n    flex: 1;\r\n    text-align: center;\r\n    font-size: 14px;\r\n    color: #999;\r\n}\r\n\r\n.grid-num {\r\n    font-size: 30px;\r\n    font-weight: bold;\r\n}\r\n\r\n.grid-con-icon {\r\n    font-size: 50px;\r\n    width: 100px;\r\n    height: 100px;\r\n    text-align: center;\r\n    line-height: 100px;\r\n    color: #fff;\r\n}\r\n\r\n.grid-con-1 .grid-con-icon {\r\n    background: rgb(45, 140, 240);\r\n}\r\n\r\n.grid-con-1 .grid-num {\r\n    color: rgb(45, 140, 240);\r\n}\r\n\r\n.grid-con-2 .grid-con-icon {\r\n    background: rgb(100, 213, 114);\r\n}\r\n\r\n.grid-con-2 .grid-num {\r\n    color: rgb(45, 140, 240);\r\n}\r\n\r\n.grid-con-3 .grid-con-icon {\r\n    background: rgb(242, 94, 67);\r\n}\r\n\r\n.grid-con-3 .grid-num {\r\n    color: rgb(242, 94, 67);\r\n}\r\n\r\n.user-info {\r\n    display: flex;\r\n    align-items: center;\r\n    padding-bottom: 20px;\r\n    border-bottom: 2px solid #ccc;\r\n    margin-bottom: 20px;\r\n}\r\n\r\n.user-avator {\r\n    width: 120px;\r\n    height: 120px;\r\n    border-radius: 50%;\r\n}\r\n\r\n.user-info-cont {\r\n    padding-left: 50px;\r\n    flex: 1;\r\n    font-size: 14px;\r\n    color: #999;\r\n}\r\n\r\n.user-info-cont div:first-child {\r\n    font-size: 30px;\r\n    color: #222;\r\n}\r\n\r\n.user-info-list {\r\n    font-size: 14px;\r\n    color: #999;\r\n    line-height: 25px;\r\n}\r\n\r\n.user-info-list span {\r\n    margin-left: 70px;\r\n}\r\n\r\n.mgb20 {\r\n    margin-bottom: 20px;\r\n}\r\n\r\n.todo-item {\r\n    font-size: 14px;\r\n}\r\n\r\n.todo-item-del {\r\n    text-decoration: line-through;\r\n    color: #999;\r\n}\r\n\r\n.schart {\r\n    width: 100%;\r\n    height: 300px;\r\n}\r\n</style>\r\n"]}]}